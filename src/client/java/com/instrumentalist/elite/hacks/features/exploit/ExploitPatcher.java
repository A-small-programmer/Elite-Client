package com.instrumentalist.elite.hacks.features.exploit;

import com.instrumentalist.elite.events.features.ReceivedPacketEvent;
import com.instrumentalist.elite.hacks.Module;
import com.instrumentalist.elite.hacks.ModuleCategory;
import com.instrumentalist.elite.utils.ChatUtil;
import com.instrumentalist.elite.utils.IMinecraft;
import net.minecraft.client.gui.screen.DownloadingTerrainScreen;
import net.minecraft.client.gui.screen.ProgressScreen;
import net.minecraft.client.gui.screen.pack.PackScreen;
import net.minecraft.client.option.KeyBinding;
import net.minecraft.network.packet.Packet;
import net.minecraft.network.packet.s2c.common.ResourcePackSendS2CPacket;
import net.minecraft.network.packet.s2c.login.LoginDisconnectS2CPacket;
import net.minecraft.network.packet.s2c.play.*;
import net.minecraft.sound.SoundEvent;
import net.minecraft.sound.SoundEvents;
import org.lwjgl.glfw.GLFW;

public class ExploitPatcher extends Module {

    public ExploitPatcher() {
        super("Exploit Patcher", ModuleCategory.Exploit, GLFW.GLFW_KEY_UNKNOWN, true, true);
    }

    @Override
    public void onDisable() {
    }

    @Override
    public void onEnable() {
    }

    @Override
    public void onReceivedPacket(ReceivedPacketEvent event) {
        Packet<?> packet = event.packet;

        if (packet instanceof ExplosionS2CPacket && (((ExplosionS2CPacket) packet).center().x > 1E9 || ((ExplosionS2CPacket) packet).center().y > 1E9 || ((ExplosionS2CPacket) packet).center().z > 1E9) || packet instanceof ParticleS2CPacket && (((ParticleS2CPacket) packet).getX() > 1E9 || ((ParticleS2CPacket) packet).getY() > 1E9 || ((ParticleS2CPacket) packet).getZ() > 1E9 || ((ParticleS2CPacket) packet).getSpeed() > 1E9 || ((ParticleS2CPacket) packet).getOffsetX() > 1E9 || ((ParticleS2CPacket) packet).getOffsetY() > 1E9 || ((ParticleS2CPacket) packet).getOffsetZ() > 1E9)) {
            event.cancel();
            ChatUtil.printChat("The server tried your client to crash");
        }
    }
}
