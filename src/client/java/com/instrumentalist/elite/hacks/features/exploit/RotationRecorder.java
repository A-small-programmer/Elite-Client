package com.instrumentalist.elite.hacks.features.exploit;

import com.instrumentalist.elite.events.features.UpdateEvent;
import com.instrumentalist.elite.hacks.Module;
import com.instrumentalist.elite.hacks.ModuleCategory;
import com.instrumentalist.elite.utils.IMinecraft;
import com.instrumentalist.elite.utils.rotation.RotationUtil;
import com.instrumentalist.elite.utils.value.FloatValue;
import org.lwjgl.glfw.GLFW;

public class RotationRecorder extends Module {

    public RotationRecorder() {
        super("Rotation Recorder", ModuleCategory.Exploit, GLFW.GLFW_KEY_UNKNOWN, false, true);
    }

    @Setting
    private final FloatValue yaw = new FloatValue(
            "Yaw",
            0f,
            -180f,
            180f
    );

    @Setting
    private final FloatValue pitch = new FloatValue(
            "Pitch",
            0f,
            -90f,
            90f
    );

    @Override
    public void onDisable() {
        if (IMinecraft.mc.player == null) return;

        RotationUtil.INSTANCE.reset();
    }

    @Override
    public void onEnable() {
    }

    @Override
    public void onUpdate(UpdateEvent event) {
        if (IMinecraft.mc.player == null) return;

        RotationUtil.INSTANCE.setRotation(yaw.get(), pitch.get(), 180f);
    }
}
